<div style="position: relative; left:27.3%; top:0%; width: 72.6%; height: 100%; display: flex; flex-direction: column; overflow-y: scroll;">

    <div style="display: flex; justify-content: start; align-items: center; position: relative; border-style: solid;
    border-color: lightgray; border-top: none; border-left: none; border-right: none; padding-bottom:0.6em;">
        <img (click)="exitNoteSection()" src="exitIcon.png" style="object-fit: contain; height: 3em; width: 3em; cursor: pointer;">
        <b *ngIf="!isOwnAccount" style="text-align:center; position: absolute; left: 40%;">{{username}}'s notes</b>
        <b *ngIf="isOwnAccount" style="text-align:center; position: absolute; left: 40%;">Your notes</b>
    </div>

    <div style="padding: 4em 4em; display: flex; flex-direction: column; position: relative;">
        <b *ngIf="isOwnAccount">Currently Visible</b>
        <div *ngIf="isOwnAccount" style="box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); overflow-y: scroll; margin-left: 3em; margin-top:1.5em; border-radius: 7px;
        display: flex; flex-direction: column; height:30em; margin-bottom: 12em; padding-left: 1.5em; padding-top: 2em; gap:1.2em;">
            <div *ngFor="let note of listOfNotes1; let i=index;">
                <NoteSectionNote [noteText]="note['text']" [noteCreatedAt]="note['createdAt']" [noteIsOwn]="isOwnAccount" [noteEditedAt]="note['editedAt']"
                [index]="i" [listOfNotes1ForUser]="listOfNotes1ForUser" [listOfNotes2ForUser]="listOfNotes2ForUser"
                [isListOfNotes1]="true" [noteId]="note['noteId']"></NoteSectionNote>
            </div>
        </div>
        <div *ngIf="!isOwnAccount" style="box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); overflow-y: scroll; margin-left: 3em; margin-top:-1.5em; border-radius: 7px;
        display: flex; flex-direction: column; height:40em; margin-bottom: 12em; padding-left: 1.5em; padding-top: 2em; gap:1.2em;">
            <div *ngFor="let note of listOfNotes1; let i=index;">
                <NoteSectionNote [noteText]="note['text']" [noteCreatedAt]="note['createdAt']" [noteIsOwn]="isOwnAccount" [noteEditedAt]="note['editedAt']"
                [index]="i" [listOfNotes1ForUser]="listOfNotes1ForUser" [listOfNotes2ForUser]="listOfNotes2ForUser"
                [isListOfNotes1]="true" [noteId]="note['noteId']" (notifyParentToReplyToNote)="replyToNote($event)"></NoteSectionNote>
            </div>
        </div>


        <div style="position: absolute; top: 79%; width: 70%; left: 16%; display: flex; align-items: center; gap: 1.5em;">
            <textarea [(ngModel)]="noteReplyText" *ngIf="!isOwnAccount" style="width: 80%; font-family: Arial;" [placeholder]="noteReplyTextareaPlaceholderText"></textarea>
            <img *ngIf="noteReplyText.length>0 && noteTextToReplyTo!==null" (click)="sendNoteReply()" src="sendReplyIcon.png" style="cursor: pointer; object-fit: contain; height: 2.5em; width: 2.5em">
        </div>

        <b *ngIf="isOwnAccount">Expired</b>
        <div *ngIf="isOwnAccount" style="box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); margin-top: 1.5em; overflow-y: scroll; margin-left: 3em; border-radius: 7px;
        display: flex; flex-direction: column; height:30em; padding-left: 1.5em; padding-top: 2em; gap:1.2em;">
             <div *ngFor="let note of listOfNotes2; let i=index;">
                <NoteSectionNote [noteText]="note['text']" [noteCreatedAt]="note['createdAt']" [noteIsOwn]="isOwnAccount"  [noteEditedAt]="note['editedAt']"
                [index]="i" [listOfNotes1ForUser]="listOfNotes1ForUser" [listOfNotes2ForUser]="listOfNotes2ForUser"
                [isListOfNotes1]="false" [noteId]="note['noteId']" (notifyParentToReplyToNote)="replyToNote($event)"></NoteSectionNote>
            </div>
        </div>
    </div>
</div>